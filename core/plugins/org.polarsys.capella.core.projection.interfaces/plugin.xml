<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
  Copyright (c) 2006, 2017 THALES GLOBAL SERVICES.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html

  Contributors:
       Thales - initial API and implementation
-->
<plugin>
  <extension
         point="org.polarsys.capella.core.tiger">
  <ruleset
            context="org.polarsys.capella.core.projection.interfaces.definition"
            rulepackage="org.polarsys.capella.core.projection.interfaces.rules"
            transfolink="org.polarsys.capella.core.projection.common.ProjectionTraceLinkProvider">
      
      <rule rulename="Rule_Interface"/>
      <rule rulename="Rule_InterfacePkg"/>
      <rule rulename="Rule_LogicalInterface"/>
      
      <sharedRuleset bundle="org.polarsys.capella.core.projection.common"
       rulepackage="org.polarsys.capella.core.projection.common.rules.cs">
          <rule rulename="Rule_Generalization"/>
      </sharedRuleset>
      
      <sharedRuleset bundle="org.polarsys.capella.core.projection.common"
       rulepackage="org.polarsys.capella.core.projection.common.rules.information">
          <rule rulename="Rule_ExchangeItem"/>
          <rule rulename="Rule_ExchangeItemAllocation"/>
          <rule rulename="Rule_ExchangeItemElement"/>
      </sharedRuleset>
      
   </ruleset>
   
   <ruleset
            context="org.polarsys.capella.core.projection.interfaces.generation"
            rulepackage="org.polarsys.capella.core.projection.interfaces.generateInterfaces"
            transfolink="org.polarsys.capella.core.projection.common.ProjectionTraceLinkProvider">
      
      <rule rulename="Rule_Component"/>
      <rule rulename="Rule_FunctionalExchange_Interface"/>
      <rule
            rulename="Rule_FunctionOutputPort">
      </rule>
      <rule
            rulename="Rule_FunctionInputPort">
      </rule>
      <rule
            rulename="Rule_ComponentExchange_Interface">
      </rule>
      <rule
            rulename="Rule_ComponentPort">
      </rule>

   </ruleset>
   
   <ruleset
            context="org.polarsys.capella.core.projection.interfaces.rules"
            rulepackage="org.polarsys.capella.core.projection.interfaces.rules"
            transfolink="org.polarsys.capella.core.projection.common.ProjectionTraceLinkProvider">
      
      <rule rulename="Rule_Component"/>
      
      <sharedContext context="org.polarsys.capella.core.projection.interfaces.definition"/>
      <sharedContext context="org.polarsys.capella.core.projection.data.rules"/>
      
   </ruleset>
   
   </extension>
  <extension
        point="org.eclipse.emf.validation.constraintProviders">
     <constraintProvider
           cache="true"
           mode="Batch">
        <package
              namespaceUri="http://www.polarsys.org/capella/core/fa/1.1.0">
        </package>
        <constraints
              categories="capella.category/design/well-formedness/interfaces">
            <constraint
                  class="org.polarsys.capella.core.projection.interfaces.validation.DWF_I_23_GenerateInterfacesValidator"
                  id="DWF_I_23"
                  isEnabledByDefault="true"
                  lang="Java"
                  mode="Batch"
                  name="DWF_I_23 - Missing/Unused Exchange Items on generated Interfaces"
                  severity="ERROR"
                  statusCode="1">
               <message>
                  message is generated dynamically
               </message>
               <description>
This rule produces Errors for missing or unused Exchange Items on Interfaces generated by the&quot;Interfaces from allocated Functions&quot; modelling accelerator. In this context, an Exchange Item is unused on an Interface, if it is not allocated to any of the Interfaces related Functional or Component Exchanges. An Exchange Item is missing on an Interface if it is allocated on at least one of the Interfaces related Functional or Component Exchanges but not present on the Interface.
               </description>
               <target class="ComponentPort">
               </target>
            </constraint>
        </constraints>
     </constraintProvider>
  </extension>
</plugin>
